"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[55],{3055:function(e,n,r){r.r(n),r.d(n,{default:function(){return D}});var t=r(5671),o=r(3144),u=r(136),s=r(516),i=r(8687),a=r(5732),l=r(7781),c="NOT_FOUND";var f=function(e,n){return e===n};function p(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,o=void 0===t?f:t,u=r.maxSize,s=void 0===u?1:u,i=r.resultEqualityCheck,a=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,o=0;o<t;o++)if(!e(n[o],r[o]))return!1;return!0}}(o),l=1===s?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:c},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(a):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var o=r[t];return t>0&&(r.splice(t,1),r.unshift(o)),o.value}return c}return{get:t,put:function(n,o){t(n)===c&&(r.unshift({key:n,value:o}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(s,a);function p(){var n=l.get(arguments);if(n===c){if(n=e.apply(null,arguments),i){var r=l.getEntries().find((function(e){return i(e.value,n)}));r&&(n=r.value)}l.put(arguments,n)}return n}return p.clearCache=function(){return l.clear()},p}function g(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];var u,s=0,i={memoizeOptions:void 0},a=t.pop();if("object"===typeof a&&(i=a,a=t.pop()),"function"!==typeof a)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof a+"]");var l=i.memoizeOptions,c=void 0===l?r:l,f=Array.isArray(c)?c:[c],p=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}(t),g=e.apply(void 0,[function(){return s++,a.apply(null,arguments)}].concat(f)),d=e((function(){for(var e=[],n=p.length,r=0;r<n;r++)e.push(p[r].apply(null,arguments));return u=g.apply(null,e)}));return Object.assign(d,{resultFunc:a,memoizedResultFunc:g,dependencies:p,lastResult:function(){return u},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),d}}var d=g(p),h=d((function(e){return e.usersPage.usersList}),(function(e){return e})),v=function(e){return e.usersPage.pageNumber},m=function(e){return e.usersPage.pageSize},w=function(e){return e.usersPage.totalCount},y=function(e){return e.usersPage.isLoading},_=function(e){return e.usersPage.followInProgress},C=function(e){return e.auth.isAuth},N=r(2791),b="Paginator_activeNumber__rbl0f",j="Paginator_pagesNavigation__wd23n",P=r(184),x=function(e){for(var n=e.updateCurrentPage,r=e.pageNumber,t=e.totalCount,o=e.pageSize,u=[],s=Math.ceil(t/o),i=1;i<=s;i++)u.push(i);var a=r-5<0?0:r-5,l=r+5,c=u.slice(a,l);return(0,P.jsx)("div",{className:j,children:c.map((function(e){return(0,P.jsx)("span",{onClick:function(){n(e)},className:r===e?b:"",children:e},e)}))})},k=r(7942),z="User_frame__QriW8",S="User_avatar__cpQWj",U="User_description__NSd69",L="User_followFrame__U6lfp",A="User_follow__fzg04",I="User_unfollow__qydMz",Z=r(4377),E=r(1087),O=function(e){var n,r=e.id,t=e.follow,o=e.unfollow,u=e.followed,s=e.followInProgress,i=e.avatar,a=e.fullName,l=e.status;return n=u?(0,P.jsx)("button",{disabled:s.some((function(e){return e===r})),onClick:function(){o(r)},className:I,children:"Unfollow"}):(0,P.jsx)("button",{disabled:s.some((function(e){return e===r})),onClick:function(){t(r)},className:A,children:"Follow"}),(0,P.jsxs)("div",{className:z,children:[(0,P.jsxs)("div",{className:L,children:[(0,P.jsx)(E.OL,{to:"/profile/"+r,children:(0,P.jsx)("img",{className:S,src:i||Z})}),n]}),(0,P.jsxs)("div",{className:U,children:[(0,P.jsxs)("p",{children:["\u0418\u043c\u044f: ",a]}),(0,P.jsxs)("p",{children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",l]})]})]})},q="Users_mainDiv__0ToVY",F=function(e){var n=e.usersList,r=e.followInProgress,t=e.follow,o=e.unfollow,u=e.totalCount,s=e.pageSize,i=e.pageNumber,a=e.updateCurrentPage,l=e.isLoading,c=n.map((function(e){return(0,P.jsx)(O,{followInProgress:r,follow:t,unfollow:o,id:e.id,followed:e.followed,fullName:e.name,status:e.status,avatar:e.photos.small},e.id)}));return(0,P.jsxs)("div",{className:q,children:[(0,P.jsx)(x,{totalCount:u,pageSize:s,pageNumber:i,updateCurrentPage:a}),l?(0,P.jsx)(k.Z,{}):c]})},T=function(e){(0,u.Z)(r,e);var n=(0,s.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];return(e=n.call.apply(n,[this].concat(u))).updateCurrentPage=function(n){e.props.getUsersTC(e.props.pageSize,n)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){0===this.props.usersList.length&&this.props.getUsersTC(this.props.pageSize,this.props.pageNumber)}},{key:"render",value:function(){return(0,P.jsx)(F,{updateCurrentPage:this.updateCurrentPage,usersList:this.props.usersList,pageNumber:this.props.pageNumber,pageSize:this.props.pageSize,isLoading:this.props.isLoading,totalCount:this.props.totalCount,follow:this.props.follow,unfollow:this.props.unfollow,followInProgress:this.props.followInProgress})}}]),r}(N.Component),D=(0,l.qC)((0,i.$j)((function(e){return{usersList:h(e),pageNumber:v(e),pageSize:m(e),totalCount:w(e),isLoading:y(e),followInProgress:_(e),isAuth:C(e)}}),{follow:a.ZN,unfollow:a.fv,getUsersTC:a.Zw}))(T)}}]);
//# sourceMappingURL=55.43f1a667.chunk.js.map